import{E as g,ah as f,bg as w,aK as P,Y as $,F as _,a6 as h,aJ as B,bp as F,bm as D,L as v,M as c,aG as y}from"./vendor-4a8d1cde.js";var V=Object.defineProperty,j=Object.defineProperties,A=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,E=(t,e,o)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,M=(t,e)=>{for(var o in e||(e={}))H.call(e,o)&&E(t,o,e[o]);if(C)for(var o of C(e))L.call(e,o)&&E(t,o,e[o]);return t},S=(t,e)=>j(t,A(e));function i(t){let e=`请使用 '@${t}' 事件，不要放在 props 中`;return e+=`
Please use '@${t}' event instead of props`,e}var b=(t,e)=>{for(const[o,r]of e)t[o]=r;return t};const k=g({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(t,e){const o=f(null),r=w(null),d=f(""),l=()=>{if(!o.value)return;const s=F(t.defaultContent);wangEditor.createEditor({selector:o.value,mode:t.mode,content:s||[],html:t.defaultHtml||t.modelValue||"",config:S(M({},t.defaultConfig),{onCreated(n){if(r.value=n,e.emit("onCreated",n),t.defaultConfig.onCreated){const a=i("onCreated");throw new Error(a)}},onChange(n){const a=n.getHtml();if(d.value=a,e.emit("update:modelValue",a),e.emit("onChange",n),t.defaultConfig.onChange){const u=i("onChange");throw new Error(u)}},onDestroyed(n){if(e.emit("onDestroyed",n),t.defaultConfig.onDestroyed){const a=i("onDestroyed");throw new Error(a)}},onMaxLength(n){if(e.emit("onMaxLength",n),t.defaultConfig.onMaxLength){const a=i("onMaxLength");throw new Error(a)}},onFocus(n){if(e.emit("onFocus",n),t.defaultConfig.onFocus){const a=i("onFocus");throw new Error(a)}},onBlur(n){if(e.emit("onBlur",n),t.defaultConfig.onBlur){const a=i("onBlur");throw new Error(a)}},customAlert(n,a){if(e.emit("customAlert",n,a),t.defaultConfig.customAlert){const u=i("customAlert");throw new Error(u)}},customPaste:(n,a)=>{if(t.defaultConfig.customPaste){const m=i("customPaste");throw new Error(m)}let u;return e.emit("customPaste",n,a,m=>{u=m}),u}})})};function p(s){const n=r.value;n!=null&&n.setHtml(s)}return P(()=>{l()}),$(()=>t.modelValue,s=>{s!==d.value&&p(s)}),{box:o}}}),x={ref:"box",style:{height:"100%"}};function I(t,e,o,r,d,l){return _(),h("div",x,null,512)}var R=b(k,[["render",I]]);const T=g({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(t){const e=f(null),o=r=>{if(e.value){if(r==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");wangEditor.DomEditor.getToolbar(r)||wangEditor.createToolbar({editor:r,selector:e.value||"<div></div>",mode:t.mode,config:t.defaultConfig})}};return B(()=>{const{editor:r}=t;r!=null&&o(r)}),{selector:e}}}),W={ref:"selector"};function U(t,e,o,r,d,l){return _(),h("div",W,null,512)}var N=b(T,[["render",U]]);const G=()=>{const t=f(""),e=w(),o=f({}),r=f({placeholder:t.value,readOnly:!1}),d=l=>{e.value=l};return D(()=>{const l=e.value;l&&l.destroy()}),{editorInstance:e,toolBarConfig:o,editorConfig:r,setEditor:d}},J={class:"border border-vBorderLight dark:border-vBorderDark dark:bg-black"},K=g({name:"WangEditor",__name:"WangEditor",props:{content:{}},emits:["update:content"],setup(t,{emit:e}){const o=t,{editorInstance:r,toolBarConfig:d,editorConfig:l,setEditor:p}=G(),s=f(o.content);l.value.placeholder="上传图片、上传视频没有做配置, 请参考wangEditor进行配置",l.value.readOnly=!1,l.value.autoFocus=!0;const n=u=>{p(u)},a=u=>{e("update:content",u.getHtml())};return(u,m)=>(_(),h("div",J,[v(c(N),{editor:c(r),"default-config":c(d),mode:"default"},null,8,["editor","default-config"]),v(c(R),{modelValue:c(s),"onUpdate:modelValue":m[0]||(m[0]=O=>y(s)?s.value=O:null),"default-config":c(l),onOnCreated:n,onOnChange:a},null,8,["modelValue","default-config"])]))}}),q=g({__name:"WangEditor",setup(t){const e=f('<h1 style="text-align: center;">✌️VAdmire Admin✌️</h1>');return(o,r)=>(_(),h("div",null,[v(K,{content:c(e),"onUpdate:content":r[0]||(r[0]=d=>y(e)?e.value=d:null)},null,8,["content"])]))}});export{q as default};
