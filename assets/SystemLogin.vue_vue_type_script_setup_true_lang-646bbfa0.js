import{_ as b,a as E}from"./shield-lock-outline-7aad8a16.js";import M from"./SystemPlatformAuth-250eddcc.js";import{u as L,K as N,O as T,P as I,Q as C,R,S as U,T as A,U as P}from"./index-90e4f0c2.js";import{E as B,ab as D,an as F,aR as H,bd as O,K,F as V,ac as j,a9 as e,N as t,au as $,M as n,H as o,aP as z,bh as G,ae as Q,bi as W}from"./vendor_1702345611382-0f54830d.js";const Y={class:"flex items-center justify-center shadow rounded py-12 px-4 sm:px-6 lg:px-12"},q={class:"max-w-md w-full space-y-4"},J=["src"],X=e("h2",{class:"text-center text-2xl font-bold"},"Sign in",-1),Z={class:"mt-2 text-center text-sm text-primary"},ee={class:"px-8 py-6 rounded-md"},ne=e("div",{class:"text-right cursor-pointer text-primary hover:text-primaryHover mb-2"},[e("span",{class:"cursor-pointer"},"Forgot your password")],-1),se={class:"space-y-3"},te=e("span",null,"Sign in",-1),oe=e("span",null,"Sign up",-1),le=B({__name:"SystemLogin",setup(ae){const l=D(),_=L(),f=N(),{success:y,error:h}=T(),{isLoading:v,setLoading:c}=I(),a=F({username:"",password:""}),d=async()=>{c(!0);const{statusCode:i,statusText:s,data:r}=await R(a.value);if(i!==200){h(s),c(!1);return}y(s),setTimeout(async()=>{sessionStorage.setItem(U,r.accessToken),await A(l,_),_.isMountedRoute=!0,l.push({name:P}),c(!1)},1e3)},m=async i=>{i.key==="Enter"&&await d()};H(()=>{window.addEventListener("keydown",m)}),O(()=>{window.removeEventListener("keydown",m)});const w=K("switchSign");return(i,s)=>{const r=z,p=G,x=b,g=Q,S=E,k=W;return V(),j("div",Y,[e("div",q,[e("div",null,[e("img",{src:t(C),class:"mx-auto h-10 w-auto",alt:"System Logo"},null,8,J),X,e("p",Z,"Welcome to "+$(t(f).name),1)]),e("div",ee,[n(k,{ref:"signInRef",size:"medium","label-width":"auto",model:t(a)},{default:o(()=>[n(p,{label:"Username"},{default:o(()=>[n(r,{value:t(a).username,"onUpdate:value":s[0]||(s[0]=u=>t(a).username=u),placeholder:"Default account: admin | user"},null,8,["value"])]),_:1}),n(p,{label:"Password"},{default:o(()=>[n(r,{value:t(a).password,"onUpdate:value":s[1]||(s[1]=u=>t(a).password=u),placeholder:"Default account admin | user"},null,8,["value"])]),_:1}),ne,e("div",se,[n(g,{block:"",type:"primary",loading:t(v),onClick:d},{icon:o(()=>[n(x)]),default:o(()=>[te]),_:1},8,["loading"]),n(g,{block:"",secondary:"",type:"primary",onClick:s[2]||(s[2]=u=>t(w)(!1))},{icon:o(()=>[n(S)]),default:o(()=>[oe]),_:1}),n(M)])]),_:1},8,["model"])])])])}}});export{le as _};
