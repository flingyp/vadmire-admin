import{_ as k,a as M}from"./shield-lock-outline-9cfe3fb0.js";import{t as N,U as b,a6 as A,ah as L,A as T,W as C,R as e,D as o,ad as I,B as s,z as n,s as E,ax as R,aV as U,Y as B,aW as D}from"./vendor-8f0bbe3c.js";import V from"./SystemPlatformAuth-0fe5dcb7.js";import{u as F,a as H,b as O,L as P,g as W,A as j,r as z,S as Y}from"./index-5208ef41.js";import{u as $}from"./index-7529f9af.js";const G={class:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},K={class:"max-w-md w-full space-y-4"},q=["src"],J=e("h2",{class:"text-center text-2xl font-bold"}," Sign in ",-1),Q={class:"mt-2 text-center text-sm text-primary"},X={class:"shadow px-8 py-6 rounded-md"},Z=e("div",{class:"text-right cursor-pointer text-primary hover:text-primaryHover mb-2"},[e("span",{class:"cursor-pointer"},"Forgot your password")],-1),ee={class:"space-y-3"},se=e("span",null,"Sign in",-1),te=e("span",null,"Sign up",-1),ce=N({__name:"SystemLogin",setup(oe){const c=b(),l=F(),p=H(),{success:g,error:f}=O(),{isLoading:h,setLoading:u}=$(),a=A({username:"",password:""}),x=async()=>{u(!0);const{statusCode:_,statusText:t,data:i}=await W(a.value);if(_!==200){f(t),u(!1);return}g(t),setTimeout(async()=>{E(j,i.accessToken),await z(c,l),l.isMountedRoute=!0,c.push({name:Y}),u(!1)},1e3)},y=L("switchSign");return(_,t)=>{const i=R,m=U,S=k,d=B,v=M,w=D;return T(),C("div",G,[e("div",K,[e("div",null,[e("img",{src:o(P),class:"mx-auto h-10 w-auto",alt:"System Logo"},null,8,q),J,e("p",Q," Welcome to "+I(o(p).name),1)]),e("div",X,[s(w,{ref:"signInRef",size:"medium","label-width":"auto",model:o(a)},{default:n(()=>[s(m,{label:"Username"},{default:n(()=>[s(i,{value:o(a).username,"onUpdate:value":t[0]||(t[0]=r=>o(a).username=r),placeholder:"Default account: admin | user"},null,8,["value"])]),_:1}),s(m,{label:"Password"},{default:n(()=>[s(i,{value:o(a).password,"onUpdate:value":t[1]||(t[1]=r=>o(a).password=r),placeholder:"Default account admin | user"},null,8,["value"])]),_:1}),Z,e("div",ee,[s(d,{block:"",type:"primary",loading:o(h),onClick:x},{icon:n(()=>[s(S)]),default:n(()=>[se]),_:1},8,["loading"]),s(d,{block:"",secondary:"",type:"primary",onClick:t[2]||(t[2]=r=>o(y)(!1))},{icon:n(()=>[s(v)]),default:n(()=>[te]),_:1}),s(V)])]),_:1},8,["model"])])])])}}});export{ce as _};
