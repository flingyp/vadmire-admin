import{_ as b,a as I}from"./shield-lock-outline-4625200c.js";import k from"./SystemPlatformAuth-ff228f43.js";import{u as L,a as M,b as N,L as T,g as A,A as C,r as E,S as R}from"./index-e97bf2d6.js";import{E as U,a2 as B,af as D,aq as H,I as F,a4 as O,a0 as e,L as o,am as P,J as s,H as n,aI as V,b7 as j,a6 as $,b8 as q}from"./vendor-13822149.js";import{u as z}from"./index-44812b81.js";const G={class:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},J={class:"max-w-md w-full space-y-4"},K=["src"],W=e("h2",{class:"text-center text-2xl font-bold"}," Sign in ",-1),Y={class:"mt-2 text-center text-sm text-primary"},Q={class:"shadow px-8 py-6 rounded-md"},X=e("div",{class:"text-right cursor-pointer text-primary hover:text-primaryHover mb-2"},[e("span",{class:"cursor-pointer"},"Forgot your password")],-1),Z={class:"space-y-3"},ee=e("span",null,"Sign in",-1),se=e("span",null,"Sign up",-1),ue=U({__name:"SystemLogin",setup(te){const c=B(),l=L(),d=M(),{success:g,error:f}=N(),{isLoading:h,setLoading:u}=z(),a=D({username:"",password:""}),x=async()=>{u(!0);const{statusCode:_,statusText:t,data:i}=await A(a.value);if(_!==200){f(t),u(!1);return}g(t),setTimeout(async()=>{sessionStorage.setItem(C,i.accessToken),await E(c,l),l.isMountedRoute=!0,c.push({name:R}),u(!1)},1e3)},y=H("switchSign");return(_,t)=>{const i=V,m=j,S=b,p=$,v=I,w=q;return F(),O("div",G,[e("div",J,[e("div",null,[e("img",{src:o(T),class:"mx-auto h-10 w-auto",alt:"System Logo"},null,8,K),W,e("p",Y," Welcome to "+P(o(d).name),1)]),e("div",Q,[s(w,{ref:"signInRef",size:"medium","label-width":"auto",model:o(a)},{default:n(()=>[s(m,{label:"Username"},{default:n(()=>[s(i,{value:o(a).username,"onUpdate:value":t[0]||(t[0]=r=>o(a).username=r),placeholder:"Default account: admin | user"},null,8,["value"])]),_:1}),s(m,{label:"Password"},{default:n(()=>[s(i,{value:o(a).password,"onUpdate:value":t[1]||(t[1]=r=>o(a).password=r),placeholder:"Default account admin | user"},null,8,["value"])]),_:1}),X,e("div",Z,[s(p,{block:"",type:"primary",loading:o(h),onClick:x},{icon:n(()=>[s(S)]),default:n(()=>[ee]),_:1},8,["loading"]),s(p,{block:"",secondary:"",type:"primary",onClick:t[2]||(t[2]=r=>o(y)(!1))},{icon:n(()=>[s(v)]),default:n(()=>[se]),_:1}),s(k)])]),_:1},8,["model"])])])])}}});export{ue as _};
