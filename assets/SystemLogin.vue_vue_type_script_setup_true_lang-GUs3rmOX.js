import{_ as b,a as E}from"./shield-lock-outline-1UQDfXQh.js";import L from"./SystemPlatformAuth-WLg0PZQK.js";import{u as M,K as N,O as T,P as I,Q as C,R as U,S as A,T as R,U as B}from"./index-Cz8vzEW4.js";import{E as D,af as F,a3 as H,aS as O,be as P,L as j,F as V,ad as K,ab as e,N as t,av as Q,M as n,H as o,aQ as $,bi as z,ag as G,bj as W}from"./vendor_1706073395038-y6ZWoyLF.js";const Y={class:"flex items-center justify-center shadow rounded py-12 px-4 sm:px-6 lg:px-12"},q={class:"max-w-md w-full space-y-4"},J=["src"],X=e("h2",{class:"text-center text-2xl font-bold"},"Sign in",-1),Z={class:"mt-2 text-center text-sm text-primary"},ee={class:"px-8 py-6 rounded-md"},ne=e("div",{class:"text-right cursor-pointer text-primary hover:text-primaryHover mb-2"},[e("span",{class:"cursor-pointer"},"Forgot your password")],-1),se={class:"space-y-3"},te=e("span",null,"Sign in",-1),oe=e("span",null,"Sign up",-1),le=D({__name:"SystemLogin",setup(ae){const l=F(),_=M(),f=N(),{success:y,error:v}=T(),{isLoading:w,setLoading:c}=I(),a=H({username:"",password:""}),d=async()=>{c(!0);const{statusCode:i,statusText:s,data:r}=await U(a.value);if(i!==200){v(s),c(!1);return}y(s),setTimeout(async()=>{sessionStorage.setItem(A,r.accessToken),await R(l,_),_.isMountedRoute=!0,l.push({name:B}),c(!1)},1e3)},m=async i=>{i.key==="Enter"&&await d()};O(()=>{window.addEventListener("keydown",m)}),P(()=>{window.removeEventListener("keydown",m)});const h=j("switchSign");return(i,s)=>{const r=$,p=z,S=b,g=G,x=E,k=W;return V(),K("div",Y,[e("div",q,[e("div",null,[e("img",{src:t(C),class:"mx-auto h-10 w-auto",alt:"System Logo"},null,8,J),X,e("p",Z,"Welcome to "+Q(t(f).name),1)]),e("div",ee,[n(k,{ref:"signInRef",size:"medium","label-width":"auto",model:t(a)},{default:o(()=>[n(p,{label:"Username"},{default:o(()=>[n(r,{value:t(a).username,"onUpdate:value":s[0]||(s[0]=u=>t(a).username=u),placeholder:"Default account: admin | user"},null,8,["value"])]),_:1}),n(p,{label:"Password"},{default:o(()=>[n(r,{value:t(a).password,"onUpdate:value":s[1]||(s[1]=u=>t(a).password=u),placeholder:"Default account admin | user"},null,8,["value"])]),_:1}),ne,e("div",se,[n(g,{block:"",type:"primary",loading:t(w),onClick:d},{icon:o(()=>[n(S)]),default:o(()=>[te]),_:1},8,["loading"]),n(g,{block:"",secondary:"",type:"primary",onClick:s[2]||(s[2]=u=>t(h)(!1))},{icon:o(()=>[n(x)]),default:o(()=>[oe]),_:1}),n(L)])]),_:1},8,["model"])])])])}}});export{le as _};
